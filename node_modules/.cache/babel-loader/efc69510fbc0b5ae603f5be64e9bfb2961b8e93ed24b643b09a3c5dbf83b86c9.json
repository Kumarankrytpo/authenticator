{"ast":null,"code":"var _jsxFileName = \"/Users/kumaran/Desktop/authenticator/src/authCodeIdentifier.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, useRef } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport './authcode.css';\nimport './authcodeidentify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TIME_LIMIT = 20;\nconst COLOR_CODES = {\n  info: {\n    color: \"green\"\n  }\n};\nlet remainingPathColor = COLOR_CODES.info.color;\n// Initially, no time has passed, but this will count up\n// and subtract from the TIME_LIMIT\nlet timePassed = 0;\nlet timeLeft = TIME_LIMIT;\nfunction calculateTimeFraction() {\n  return timeLeft / TIME_LIMIT;\n}\n\n// Update the dasharray value as time passes, starting with 283\nfunction setCircleDasharray() {\n  const circleDasharray = `${(calculateTimeFraction() * FULL_DASH_ARRAY).toFixed(0)} 283`;\n  document.getElementById(\"base-timer-path-remaining\").setAttribute(\"stroke-dasharray\", circleDasharray);\n}\nlet timerInterval = null;\nfunction startTimer() {\n  timerInterval = setInterval(() => {\n    // The amount of time passed increments by one\n    timePassed = timePassed += 1;\n    timeLeft = TIME_LIMIT - timePassed;\n\n    // The time left label is updated\n    document.getElementById(\"base-timer-label\").innerHTML = formatTimeLeft(timeLeft);\n  }, 1000);\n}\nfunction formatTimeLeft(time) {\n  // The largest round integer less than or equal to the result of time divided being by 60.\n  const minutes = Math.floor(time / 60);\n\n  // Seconds are the remainder of the time divided by 60 (modulus operator)\n  let seconds = time % 60;\n\n  // If the value of seconds is less than 10, then display seconds with a leading zero\n  if (seconds < 10) {\n    seconds = `0${seconds}`;\n  }\n\n  // The output in MM:SS format\n  return `${minutes}:${seconds}`;\n}\nfunction AuthCodeIdentifier() {\n  _s();\n  const location = useLocation();\n  const params = new URLSearchParams(location.search);\n  const uid = params.get('uid');\n  const [authcode, setAuthCode] = useState(\"\");\n  const [userid, setuserid] = useState(\"\");\n  const apiCalled = useRef(false);\n  useEffect(() => {\n    console.log(\"user id\" + uid);\n    setuserid(uid);\n    if (userid && !apiCalled.current) {\n      fetch(\"http://localhost:8080/webapi/auth/getauthcode\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\"\n        },\n        body: JSON.stringify({\n          userid: userid\n        })\n      }).then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      }).then(data => {\n        const respData = JSON.parse(JSON.stringify(data));\n        setAuthCode(respData.authcode);\n        startTimer();\n      }).catch(e => {\n        console.log(\"Error in API\", e);\n      });\n      apiCalled.current = true;\n    }\n  }, [uid, userid]);\n  console.log(\"inside identifies \" + authcode);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"auth_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          color: \"white\"\n        },\n        children: authcode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"base-timer\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          class: \"base-timer__svg\",\n          viewBox: \"0 0 100 100\",\n          xmlns: \"http://www.w3.org/2000/svg\",\n          children: /*#__PURE__*/_jsxDEV(\"g\", {\n            class: \"base-timer__circle\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              class: \"base-timer__path-elapsed\",\n              cx: \"50\",\n              cy: \"50\",\n              r: \"45\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              id: \"base-timer-path-remaining\",\n              \"stroke-dasharray\": \"283\",\n              class: \"base-timer__path-remaining ${remainingPathColor}\",\n              d: \" M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0 \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", formatTimeLeft(timeLeft)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthCodeIdentifier, \"VuUCDan005hsgpaRt6ENBpr+r7Y=\", false, function () {\n  return [useLocation];\n});\n_c = AuthCodeIdentifier;\nexport default AuthCodeIdentifier;\nvar _c;\n$RefreshReg$(_c, \"AuthCodeIdentifier\");","map":{"version":3,"names":["useState","useEffect","useRef","useLocation","jsxDEV","_jsxDEV","TIME_LIMIT","COLOR_CODES","info","color","remainingPathColor","timePassed","timeLeft","calculateTimeFraction","setCircleDasharray","circleDasharray","FULL_DASH_ARRAY","toFixed","document","getElementById","setAttribute","timerInterval","startTimer","setInterval","innerHTML","formatTimeLeft","time","minutes","Math","floor","seconds","AuthCodeIdentifier","_s","location","params","URLSearchParams","search","uid","get","authcode","setAuthCode","userid","setuserid","apiCalled","console","log","current","fetch","method","headers","Accept","body","JSON","stringify","then","response","ok","Error","json","data","respData","parse","catch","e","children","class","style","fileName","_jsxFileName","lineNumber","columnNumber","viewBox","xmlns","cx","cy","r","id","d","_c","$RefreshReg$"],"sources":["/Users/kumaran/Desktop/authenticator/src/authCodeIdentifier.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\nimport { useLocation } from 'react-router-dom';\nimport './authcode.css';\nimport './authcodeidentify.css'\n\nconst TIME_LIMIT = 20;\nconst COLOR_CODES = {\n    info: {\n      color: \"green\"\n    }\n  };\n  \n  let remainingPathColor = COLOR_CODES.info.color;\n// Initially, no time has passed, but this will count up\n// and subtract from the TIME_LIMIT\nlet timePassed = 0;\nlet timeLeft = TIME_LIMIT;\nfunction calculateTimeFraction() {\n    return timeLeft / TIME_LIMIT;\n  }\n      \n  // Update the dasharray value as time passes, starting with 283\n  function setCircleDasharray() {\n    const circleDasharray = `${(\n      calculateTimeFraction() * FULL_DASH_ARRAY\n    ).toFixed(0)} 283`;\n    document\n      .getElementById(\"base-timer-path-remaining\")\n      .setAttribute(\"stroke-dasharray\", circleDasharray);\n  }\nlet timerInterval = null;\n\nfunction startTimer() {\n    timerInterval = setInterval(() => {\n      \n      // The amount of time passed increments by one\n      timePassed = timePassed += 1;\n      timeLeft = TIME_LIMIT - timePassed;\n      \n      // The time left label is updated\n      document.getElementById(\"base-timer-label\").innerHTML = formatTimeLeft(timeLeft);\n    }, 1000);\n  }\n\nfunction formatTimeLeft(time) {\n    // The largest round integer less than or equal to the result of time divided being by 60.\n    const minutes = Math.floor(time / 60);\n    \n    // Seconds are the remainder of the time divided by 60 (modulus operator)\n    let seconds = time % 60;\n    \n    // If the value of seconds is less than 10, then display seconds with a leading zero\n    if (seconds < 10) {\n      seconds = `0${seconds}`;\n    }\n  \n    // The output in MM:SS format\n    return `${minutes}:${seconds}`;\n  }\n\nfunction AuthCodeIdentifier() {\n\n    const location = useLocation();\n    const params = new URLSearchParams(location.search);\n    const uid = params.get('uid');\n\n    const [authcode, setAuthCode] = useState(\"\");\n    const [userid, setuserid] = useState(\"\");\n    const apiCalled = useRef(false);\n    useEffect(() => {\n        console.log(\"user id\" + uid);\n        setuserid(uid);\n        if (userid && !apiCalled.current) {\n            fetch(\"http://localhost:8080/webapi/auth/getauthcode\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Accept: \"application/json\",\n                },\n                body: JSON.stringify({\n                    userid: userid\n                }),\n            }).then((response) => {\n                if (!response.ok) {\n                    throw new Error('Network response was not ok');\n                }\n                return response.json();\n            }).then((data) => {\n                const respData = JSON.parse(JSON.stringify(data));\n                setAuthCode(respData.authcode);\n                startTimer();\n            }).catch((e) => {\n                console.log(\"Error in API\", e);\n            })\n            apiCalled.current = true;\n        }\n\n    }, [uid, userid]);\n    console.log(\"inside identifies \" + authcode);\n    return (\n        <div>\n            <div class=\"auth_container\">\n                <h1 style={{ color: \"white\" }}>{authcode}</h1>\n                <div class=\"base-timer\">\n                    <svg class=\"base-timer__svg\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <g class=\"base-timer__circle\">\n                            <circle class=\"base-timer__path-elapsed\" cx=\"50\" cy=\"50\" r=\"45\" />\n                            <path\n        id=\"base-timer-path-remaining\"\n        stroke-dasharray=\"283\"\n        class=\"base-timer__path-remaining ${remainingPathColor}\"\n        d=\"\n          M 50, 50\n          m -45, 0\n          a 45,45 0 1,0 90,0\n          a 45,45 0 1,0 -90,0\n        \"\n      ></path>\n                        </g>\n                    </svg>\n                    <span>\n                    ${formatTimeLeft(timeLeft)}\n                    </span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default AuthCodeIdentifier;"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,gBAAgB;AACvB,OAAO,wBAAwB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAE/B,MAAMC,UAAU,GAAG,EAAE;AACrB,MAAMC,WAAW,GAAG;EAChBC,IAAI,EAAE;IACJC,KAAK,EAAE;EACT;AACF,CAAC;AAED,IAAIC,kBAAkB,GAAGH,WAAW,CAACC,IAAI,CAACC,KAAK;AACjD;AACA;AACA,IAAIE,UAAU,GAAG,CAAC;AAClB,IAAIC,QAAQ,GAAGN,UAAU;AACzB,SAASO,qBAAqBA,CAAA,EAAG;EAC7B,OAAOD,QAAQ,GAAGN,UAAU;AAC9B;;AAEA;AACA,SAASQ,kBAAkBA,CAAA,EAAG;EAC5B,MAAMC,eAAe,GAAI,GAAE,CACzBF,qBAAqB,CAAC,CAAC,GAAGG,eAAe,EACzCC,OAAO,CAAC,CAAC,CAAE,MAAK;EAClBC,QAAQ,CACLC,cAAc,CAAC,2BAA2B,CAAC,CAC3CC,YAAY,CAAC,kBAAkB,EAAEL,eAAe,CAAC;AACtD;AACF,IAAIM,aAAa,GAAG,IAAI;AAExB,SAASC,UAAUA,CAAA,EAAG;EAClBD,aAAa,GAAGE,WAAW,CAAC,MAAM;IAEhC;IACAZ,UAAU,GAAGA,UAAU,IAAI,CAAC;IAC5BC,QAAQ,GAAGN,UAAU,GAAGK,UAAU;;IAElC;IACAO,QAAQ,CAACC,cAAc,CAAC,kBAAkB,CAAC,CAACK,SAAS,GAAGC,cAAc,CAACb,QAAQ,CAAC;EAClF,CAAC,EAAE,IAAI,CAAC;AACV;AAEF,SAASa,cAAcA,CAACC,IAAI,EAAE;EAC1B;EACA,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,GAAG,EAAE,CAAC;;EAErC;EACA,IAAII,OAAO,GAAGJ,IAAI,GAAG,EAAE;;EAEvB;EACA,IAAII,OAAO,GAAG,EAAE,EAAE;IAChBA,OAAO,GAAI,IAAGA,OAAQ,EAAC;EACzB;;EAEA;EACA,OAAQ,GAAEH,OAAQ,IAAGG,OAAQ,EAAC;AAChC;AAEF,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EAE1B,MAAMC,QAAQ,GAAG9B,WAAW,CAAC,CAAC;EAC9B,MAAM+B,MAAM,GAAG,IAAIC,eAAe,CAACF,QAAQ,CAACG,MAAM,CAAC;EACnD,MAAMC,GAAG,GAAGH,MAAM,CAACI,GAAG,CAAC,KAAK,CAAC;EAE7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGxC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACyC,MAAM,EAAEC,SAAS,CAAC,GAAG1C,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM2C,SAAS,GAAGzC,MAAM,CAAC,KAAK,CAAC;EAC/BD,SAAS,CAAC,MAAM;IACZ2C,OAAO,CAACC,GAAG,CAAC,SAAS,GAAGR,GAAG,CAAC;IAC5BK,SAAS,CAACL,GAAG,CAAC;IACd,IAAII,MAAM,IAAI,CAACE,SAAS,CAACG,OAAO,EAAE;MAC9BC,KAAK,CAAC,+CAA+C,EAAE;QACnDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE,kBAAkB;UAClCC,MAAM,EAAE;QACZ,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACjBZ,MAAM,EAAEA;QACZ,CAAC;MACL,CAAC,CAAC,CAACa,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;QAClD;QACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;MAC1B,CAAC,CAAC,CAACJ,IAAI,CAAEK,IAAI,IAAK;QACd,MAAMC,QAAQ,GAAGR,IAAI,CAACS,KAAK,CAACT,IAAI,CAACC,SAAS,CAACM,IAAI,CAAC,CAAC;QACjDnB,WAAW,CAACoB,QAAQ,CAACrB,QAAQ,CAAC;QAC9BjB,UAAU,CAAC,CAAC;MAChB,CAAC,CAAC,CAACwC,KAAK,CAAEC,CAAC,IAAK;QACZnB,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEkB,CAAC,CAAC;MAClC,CAAC,CAAC;MACFpB,SAAS,CAACG,OAAO,GAAG,IAAI;IAC5B;EAEJ,CAAC,EAAE,CAACT,GAAG,EAAEI,MAAM,CAAC,CAAC;EACjBG,OAAO,CAACC,GAAG,CAAC,oBAAoB,GAAGN,QAAQ,CAAC;EAC5C,oBACIlC,OAAA;IAAA2D,QAAA,eACI3D,OAAA;MAAK4D,KAAK,EAAC,gBAAgB;MAAAD,QAAA,gBACvB3D,OAAA;QAAI6D,KAAK,EAAE;UAAEzD,KAAK,EAAE;QAAQ,CAAE;QAAAuD,QAAA,EAAEzB;MAAQ;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC9CjE,OAAA;QAAK4D,KAAK,EAAC,YAAY;QAAAD,QAAA,gBACnB3D,OAAA;UAAK4D,KAAK,EAAC,iBAAiB;UAACM,OAAO,EAAC,aAAa;UAACC,KAAK,EAAC,4BAA4B;UAAAR,QAAA,eACjF3D,OAAA;YAAG4D,KAAK,EAAC,oBAAoB;YAAAD,QAAA,gBACzB3D,OAAA;cAAQ4D,KAAK,EAAC,0BAA0B;cAACQ,EAAE,EAAC,IAAI;cAACC,EAAE,EAAC,IAAI;cAACC,CAAC,EAAC;YAAI;cAAAR,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAClEjE,OAAA;cACpBuE,EAAE,EAAC,2BAA2B;cAC9B,oBAAiB,KAAK;cACtBX,KAAK,EAAC,kDAAkD;cACxDY,CAAC,EAAC;YAKD;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACa;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNjE,OAAA;UAAA2D,QAAA,GAAM,GACL,EAACvC,cAAc,CAACb,QAAQ,CAAC;QAAA;UAAAuD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd;AAACtC,EAAA,CAnEQD,kBAAkB;EAAA,QAEN5B,WAAW;AAAA;AAAA2E,EAAA,GAFvB/C,kBAAkB;AAqE3B,eAAeA,kBAAkB;AAAC,IAAA+C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}